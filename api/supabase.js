import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

const _0x1a2b = ["\x68\x74\x74\x70\x73\x3a\x2f\x2f\x6d\x69\x63\x6d\x6e\x66\x63\x73\x62\x6b\x70\x72\x75\x62\x77\x6a\x68\x74\x70\x7a\x2e\x73\x75\x70\x61\x62\x61\x73\x65\x2e\x63\x6f\x6f", "\x73\x62\x5f\x70\x75\x62\x6c\x69\x73\x68\x61\x62\x6c\x65\x5f\x6f\x56\x5f\x30\x66\x41\x53\x32\x38\x79\x31\x44\x52\x71\x4a\x56\x76\x36\x47\x69\x31\x77\x5f\x34\x7a\x77\x6b\x65\x66\x6a\x6f", "\x45\x72\x72\x6f\x20\x61\x6f\x20\x73\x61\x6c\x76\x61\x72\x20\x64\x61\x64\x6f\x73\x3a"];

export const supabase = createClient(_0x1a2b[0], _0x1a2b[1]);

export async function saveUserData(_0x55a1, _0x3e12) {
    const { data: { user: _0x22b9 } } = await supabase.auth.getUser();
    if (!_0x22b9) return;

    const { error: _0x99c1 } = await supabase
        .from(_0x55a1)
        .upsert({ 
            id: _0x22b9.id, 
            ..._0x3e12, 
            updated_at: new Date() 
        });
    
    if (_0x99c1) console.error(_0x1a2b[2], _0x99c1);
}